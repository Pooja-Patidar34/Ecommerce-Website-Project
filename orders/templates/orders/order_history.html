{% extends "products/base.html" %}
{% block content %}
<div class="container mt-4">
  <h2 class=" mt-5">Your Orders</h2>
  {% if orders %}
    {% for order in orders %}
      <div class="card mb-3">
        <div class="card-header">
          <strong>Order ID:</strong> {{ order.id }} |
          <strong>Date:</strong> {{ order.created_at|date:"d M Y, H:i" }} |
          <strong>Status:</strong> {% if order.is_paid %} Paid {% else %} Pending {% endif %}
        </div>
        <div class="card-body">
          <ul class="list-group">
            {% for item in order.items.all %}
              <li class="list-group-item d-flex justify-content-between align-items-center">
                {{ item.product.name }} (x{{ item.quantity }})
                <span>₹{{ item.get_total_price }}</span>
              </li>
            {% endfor %}
          </ul>
          <p class="mt-2"><strong>Total:</strong> ₹{{ order.get_total_amount }}</p>
        </div>
      </div>
    {% endfor %}
  {% else %}
    <p>No orders</p>
  {% endif %}
</div>
{% endblock %}
